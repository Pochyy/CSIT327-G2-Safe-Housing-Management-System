{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Haven | Sign Up</title>
    <link rel="stylesheet" href="{% static 'users/css/style.css' %}">
</head>
<body>
    <header class="top-bar">
        <div class="logo-section">
            <img src="{% static 'images/SH.png' %}" alt="Safe Haven Logo">
            <h2>Safe <span>Haven</span></h2>
        </div>
    </header>

    <div class="left-section"></div>

    <div class="right-section">
        <div class="register-form-box">
            <h1>Create an Account</h1>
            <p>Join Safe Haven today to find or list trusted rental properties.</p>

            {% if messages %}
                {% for message in messages %}
                    <div class="message {% if message.tags %}{{ message.tags }}{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}

            <form method="POST" action="{% url 'users:register' %}" id="registerForm">
                {% csrf_token %}

                <div class="form-group">
                    <label>I want to:</label>
                    <div class="user-type">
                        <div class="user-option {% if form.user_type.value == 'renter' or not form.user_type.value %}selected{% endif %}" onclick="selectUserType(this)">
                            <input type="radio" name="user_type" value="renter" {% if form.user_type.value == 'renter' or not form.user_type.value %}checked{% endif %}>
                            <span>Rent Properties</span>
                        </div>
                        <div class="user-option {% if form.user_type.value == 'landlord' %}selected{% endif %}" onclick="selectUserType(this)">
                            <input type="radio" name="user_type" value="landlord" {% if form.user_type.value == 'landlord' %}checked{% endif %}>
                            <span>List Properties</span>
                        </div>
                    </div>
                    {% if form.errors.user_type %}
                        <div class="message error">{{ form.errors.user_type|striptags }}</div>
                    {% endif %}
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="id_first_name">First Name</label>
                        <input type="text" id="id_first_name" name="first_name" placeholder="First Name" value="{{ form.first_name.value|default:'' }}" required>
                        {% if form.errors.first_name %}
                            <div class="message error">{{ form.errors.first_name|striptags }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="id_last_name">Last Name</label>
                        <input type="text" id="id_last_name" name="last_name" placeholder="Last Name" value="{{ form.last_name.value|default:'' }}" required>
                        {% if form.errors.last_name %}
                            <div class="message error">{{ form.errors.last_name|striptags }}</div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-group">
                    <label for="id_email">Email</label>
                    <input type="email" id="id_email" name="email" placeholder="Email Address" value="{{ form.email.value|default:'' }}" required>
                    {% if form.errors.email %}
                        <div class="message error">{{ form.errors.email|striptags }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="id_phone">Phone Number</label>
                    <input type="text" id="id_phone" name="phone" placeholder="Phone Number" value="{{ form.phone.value|default:'' }}">
                    {% if form.errors.phone %}
                        <div class="message error">{{ form.errors.phone|striptags }}</div>
                    {% endif %}
                </div>

                <div class="form-group">
                    <label for="id_username">Username</label>
                    <input type="text" id="id_username" name="username" placeholder="Username" value="{{ form.username.value|default:'' }}" required>
                    {% if form.errors.username %}
                        <div class="message error">{{ form.errors.username|striptags }}</div>
                    {% endif %}
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="id_password1">Password</label>
                        <input type="password" id="id_password1" name="password1" placeholder="Password" required>
                        {% if form.errors.password1 %}
                            <div class="message error">{{ form.password1.errors|striptags }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="id_password2">Confirm Password</label>
                        <input type="password" id="id_password2" name="password2" placeholder="Confirm Password" required>
                        {% if form.errors.password2 %}
                            <div class="message error">{{ form.errors.password2|striptags }}</div>
                        {% endif %}
                    </div>
                </div>

                <div class="terms">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms">I agree to the <a href="#" id="termsLink" class="policy-link">Terms of Service</a> and <a href="#" id="privacyLink" class="policy-link">Privacy Policy</a></label>
                </div>

                <button type="submit">Create Account</button>

                <div class="signup">
                    Already have an account? <a href="{% url 'users:login' %}">Sign In</a>
                </div>
            </form>
        </div>
    </div>

    <!-- Terms & Conditions Modal -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Terms of Service</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <h3>Welcome to Safe Haven!</h3>
                <p>By creating an account with Safe Haven, you agree to comply with and be bound by the following terms and conditions of use.</p>
               
                <h4>1. Account Registration</h4>
                <p>You must provide accurate and complete information during registration. You are responsible for maintaining the confidentiality of your account credentials.</p>
               
                <h4>2. User Responsibilities</h4>
                <p>As a user, you agree not to engage in any activities that may:</p>
                <ul>
                    <li>Violate any laws or regulations</li>
                    <li>Infringe upon the rights of others</li>
                    <li>Interfere with the proper functioning of Safe Haven</li>
                </ul>
               
                <h4>3. Property Listings</h4>
                <p>All property listings must be accurate, truthful, and comply with applicable housing laws and regulations. Safe Haven reserves the right to remove any listings that violate our policies.</p>
               
                <h4>4. Privacy</h4>
                <p>Your privacy is important to us. Please review our Privacy Policy to understand how we collect, use, and protect your information.</p>
               
                <h4>5. Limitation of Liability</h4>
                <p>Safe Haven acts as a platform connecting renters and landlords. We are not responsible for the quality, safety, or legality of properties listed on our platform.</p>
               
                <h4>6. Changes to Terms</h4>
                <p>We reserve the right to modify these terms at any time. Continued use of the platform after changes constitutes acceptance of the modified terms.</p>
               
                <p><strong>Last updated:</strong> {% now "F j, Y" %}</p>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Privacy Policy</h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <h3>Your Privacy Matters to Us</h3>
                <p>This Privacy Policy explains how Safe Haven collects, uses, discloses, and safeguards your information when you use our rental platform.</p>
               
                <h4>1. Information We Collect</h4>
                <p><strong>Personal Information:</strong> When you register, we collect information such as your name, email address, phone number, and user preferences.</p>
                <p><strong>Usage Data:</strong> We automatically collect information about how you interact with our platform, including IP address, browser type, and pages visited.</p>
               
                <h4>2. How We Use Your Information</h4>
                <p>We use your information to:</p>
                <ul>
                    <li>Provide and maintain our services</li>
                    <li>Process your transactions and facilitate rental agreements</li>
                    <li>Communicate with you about platform updates</li>
                    <li>Improve our services and user experience</li>
                    <li>Ensure platform security and prevent fraud</li>
                </ul>
               
                <h4>3. Data Protection</h4>
                <p>We implement appropriate security measures to protect your personal information from unauthorized access, alteration, or disclosure. However, no internet transmission is completely secure.</p>
               
                <h4>4. Information Sharing</h4>
                <p>We do not sell your personal information to third parties. We may share information with:</p>
                <ul>
                    <li>Other users (as necessary for rental transactions)</li>
                    <li>Service providers who assist our operations</li>
                    <li>Legal authorities when required by law</li>
                </ul>
               
                <h4>5. Your Rights</h4>
                <p>You have the right to:</p>
                <ul>
                    <li>Access and review your personal information</li>
                    <li>Correct inaccurate data</li>
                    <li>Request deletion of your account and data</li>
                    <li>Opt-out of marketing communications</li>
                </ul>
               
                <h4>6. Cookies and Tracking</h4>
                <p>We use cookies and similar technologies to enhance your experience, analyze platform usage, and deliver personalized content.</p>
               
                <p><strong>Last updated:</strong> {% now "F j, Y" %}</p>
            </div>
        </div>
    </div>

    <script src="{% static 'users/js/register.js' %}"></script>


<script>
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function() {
            const messages = document.querySelectorAll('[class*="alert"], [class*="message"], [class*="success"]');
            messages.forEach(function(message) {
                message.style.opacity = '0';
                message.style.transition = 'opacity 0.5s ease';
                setTimeout(function() {
                    message.remove();
                }, 500);
            });
        }, 3000); 
    });
    </script>
    </body>
    </html>
</body>
</html>